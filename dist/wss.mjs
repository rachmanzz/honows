import{nanoid as s}from"nanoid";import{getWs as t,removeSession as e,createSession as i}from"./session/map.mjs";const o=new WeakMap,n=()=>({sessionRegister(t){if(!o.has(this)){const e="wss"+s(20);o.set(this,e),i(e,t)}},sessionRemove(){const s=o.get(this);s&&(e(s),o.delete(this))},sessionID(){return o.get(this)},getWS(){const s=o.get(this);if(s)return t(s)}});export{n as createWs};
